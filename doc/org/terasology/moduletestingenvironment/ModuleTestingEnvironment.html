<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_45) on Wed Jul 26 13:11:31 PDT 2017 -->
<title>ModuleTestingEnvironment</title>
<meta name="date" content="2017-07-26">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ModuleTestingEnvironment";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../org/terasology/moduletestingenvironment/TestingStateHeadlessSetup.html" title="class in org.terasology.moduletestingenvironment"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html" target="_top">Frames</a></li>
<li><a href="ModuleTestingEnvironment.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.terasology.moduletestingenvironment</div>
<h2 title="Class ModuleTestingEnvironment" class="title">Class ModuleTestingEnvironment</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.terasology.moduletestingenvironment.ModuleTestingEnvironment</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">ModuleTestingEnvironment</span>
extends java.lang.Object</pre>
<div class="block">Base class for tests involving full <code>TerasologyEngine</code> instances. View the tests included in this module for
 simple usage examples
 <p>
 <h2>Introduction</h2> This class will create a new host engine for each @Test method. The in-game <code>Context</code> for
 this engine can be accessed via <a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#getHostContext--"><code>getHostContext()</code></a>. The result of this getter is equivalent to the
 CoreRegistry available to module code at runtime. However, it is very important that you do not use CoreRegistry in
 your test code, as this is manipulated by the test environment to allow multiple instances of the engine to
 peacefully coexist. You should always use the returned context reference to manipulate or inspect the CoreRegistry of
 a given engine instance.
 <p>
 <h2>Client Engine Instances</h2> Client instances can be easily created via <a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#createClient--"><code>createClient()</code></a> which returns the
 in-game context of the created engine instance. When this method returns, the client will be in the <code>StateIngame</code> state and connected to the host. Currently all engine instances are headless, though it is possible to
 use headed engines in the future.
 <p>
 Engines can be run while a condition is true via <a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#runWhile-java.util.function.Supplier-"><code>runWhile(Supplier)</code></a> <br><code>runWhile(()-&gt; true);</code>
 <p>
 or conversely run until a condition is true via <a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#runUntil-java.util.function.Supplier-"><code>runUntil(Supplier)</code></a> <br><code>runUntil(()-&gt; false);</code>
 <p>
 <h2>Specifying Dependencies</h2> By default the environment will load only the engine itself. In order to load your
 own module code, you must override <a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#getDependencies--"><code>getDependencies()</code></a> in your test subclass.
 <pre>
 
 public Set&lt;String&gt; getDependencies() {
     return Sets.newHashSet("engine", "ModuleTestingEnvironment");
 }
 
 </pre>
 <h2>Specifying World Generator</h2> By default the environment will use a dummy world generator which creates
 nothing but air. To specify a more useful world generator you must override <a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#getWorldGeneratorUri--"><code>getWorldGeneratorUri()</code></a> in your
 test subclass.
 <pre>
 
 public String getWorldGeneratorUri() {
     return "moduletestingenvironment:dummy";
 }
 
 </pre></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#ModuleTestingEnvironment--">ModuleTestingEnvironment</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected org.terasology.context.Context</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#createClient--">createClient</a></span>()</code>
<div class="block">Creates a new client and connects it to the host</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#forceAndWaitForGeneration-org.terasology.math.geom.Vector3i-">forceAndWaitForGeneration</a></span>(org.terasology.math.geom.Vector3i&nbsp;blockPos)</code>
<div class="block">Creates a dummy entity with RelevanceRegion component to force a chunk's generation and availability.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#getDependencies--">getDependencies</a></span>()</code>
<div class="block">Override this to change which modules must be loaded for the environment</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected java.util.List&lt;org.terasology.engine.TerasologyEngine&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#getEngines--">getEngines</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected org.terasology.context.Context</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#getHostContext--">getHostContext</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#getWorldGeneratorUri--">getWorldGeneratorUri</a></span>()</code>
<div class="block">Override this to change which world generator to use.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#runUntil-java.util.function.Supplier-">runUntil</a></span>(java.util.function.Supplier&lt;java.lang.Boolean&gt;&nbsp;f)</code>
<div class="block">Runs tick() on the engine until f evaluates to true</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#runWhile-java.util.function.Supplier-">runWhile</a></span>(java.util.function.Supplier&lt;java.lang.Boolean&gt;&nbsp;f)</code>
<div class="block">Runs tick() on the engine while f evaluates to true</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#setup--">setup</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html#tearDown--">tearDown</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ModuleTestingEnvironment--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ModuleTestingEnvironment</h4>
<pre>public&nbsp;ModuleTestingEnvironment()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setup--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>public&nbsp;void&nbsp;setup()
           throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="tearDown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tearDown</h4>
<pre>public&nbsp;void&nbsp;tearDown()
              throws java.lang.Exception</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a name="getDependencies--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDependencies</h4>
<pre>public&nbsp;java.util.Set&lt;java.lang.String&gt;&nbsp;getDependencies()</pre>
<div class="block">Override this to change which modules must be loaded for the environment</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The set of module names to load</dd>
</dl>
</li>
</ul>
<a name="getWorldGeneratorUri--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getWorldGeneratorUri</h4>
<pre>public&nbsp;java.lang.String&nbsp;getWorldGeneratorUri()</pre>
<div class="block">Override this to change which world generator to use. Defaults to a dummy generator that leaves all blocks as air</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the uri of the desired world generator</dd>
</dl>
</li>
</ul>
<a name="forceAndWaitForGeneration-org.terasology.math.geom.Vector3i-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>forceAndWaitForGeneration</h4>
<pre>protected&nbsp;void&nbsp;forceAndWaitForGeneration(org.terasology.math.geom.Vector3i&nbsp;blockPos)</pre>
<div class="block">Creates a dummy entity with RelevanceRegion component to force a chunk's generation and availability.
 Blocks while waiting for the chunk to become loaded</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>blockPos</code> - the block position of the dummy entity. Only the chunk containing this position will be
                 available</dd>
</dl>
</li>
</ul>
<a name="runUntil-java.util.function.Supplier-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runUntil</h4>
<pre>protected&nbsp;void&nbsp;runUntil(java.util.function.Supplier&lt;java.lang.Boolean&gt;&nbsp;f)</pre>
<div class="block">Runs tick() on the engine until f evaluates to true</div>
</li>
</ul>
<a name="runWhile-java.util.function.Supplier-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>runWhile</h4>
<pre>protected&nbsp;void&nbsp;runWhile(java.util.function.Supplier&lt;java.lang.Boolean&gt;&nbsp;f)</pre>
<div class="block">Runs tick() on the engine while f evaluates to true</div>
</li>
</ul>
<a name="createClient--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createClient</h4>
<pre>protected&nbsp;org.terasology.context.Context&nbsp;createClient()</pre>
<div class="block">Creates a new client and connects it to the host</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the created client's context object</dd>
</dl>
</li>
</ul>
<a name="getEngines--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEngines</h4>
<pre>protected&nbsp;java.util.List&lt;org.terasology.engine.TerasologyEngine&gt;&nbsp;getEngines()</pre>
</li>
</ul>
<a name="getHostContext--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getHostContext</h4>
<pre>protected&nbsp;org.terasology.context.Context&nbsp;getHostContext()</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../org/terasology/moduletestingenvironment/TestingStateHeadlessSetup.html" title="class in org.terasology.moduletestingenvironment"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/terasology/moduletestingenvironment/ModuleTestingEnvironment.html" target="_top">Frames</a></li>
<li><a href="ModuleTestingEnvironment.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
